(()=>{"use strict";const e=document.getElementById("password"),t=document.getElementById("button"),n=document.getElementById("seleFile"),r=document.getElementById("username"),o=document.getElementById("sha256Code");function a(e,t){function n(e,t){return Array.from(crypto.getRandomValues(new Uint32Array(e))).map((e=>t[e%t.length])).join("")}function r(e,t){const n=[...t],r=e.map((e=>{let t=0;return[...e].forEach((e=>{for(const r of n)if(e===r)return void(t+=1)})),t})).filter((e=>e>=2)).length===e.length;return r}const o="abcdefghijklmnopqrstuvwxyz",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ",i="0123456789";let l;l=t?[o,a,i]:["!@#$%^&*()_+{}:\"<>?|[];',./`~",o,a,i];const c=l.join("");let u=0;for(;;){const t=n(e,c);if(r(l,t))return console.log(u),t;if(u+=1,u>1e3)throw new Error("生成失败")}}n?.addEventListener("click",(async e=>{const t=await window.showOpenFilePicker({multiple:!1}),n=await t[0].getFile(),r=await n.arrayBuffer(),a=await crypto.subtle.digest("SHA-256",r),i=Array.from(new Uint8Array(a)).map((e=>e.toString(16).padStart(2,"0"))).join("");o.value=i})),t?.addEventListener("click",(t=>{e.value=a(16,!1),r.value=a(8,!0)}))})();